<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ThÃ´ng Tin BÃ¡c SÄ©</title>
	<link rel="stylesheet" href="/css/chitietbs.css">
	<link th:href="@{/css/headerbenhnhan.css}" rel="stylesheet">
	<link th:href="@{/css/footerbenhnhan.css}" rel="stylesheet">
</head>

<body>
	<!-- Include Header -->
	<div th:replace="benhnhan/fragments/header :: header"></div>
	<div class="doctor-tabs-container">
		<!-- Avatar and Basic Info -->
		<div class="doctor-profile">
			<div class="avatar-container">
				<img th:src="@{${bacSi.urlAvatar}}" alt="áº¢nh Äáº¡i Diá»‡n BÃ¡c SÄ©" class="doctor-avatar" />
			</div>
			<div class="doctor-info">
				<h1 th:text="${bacSi.ten}">HoÃ ng LÆ°Æ¡ng</h1>
				<p><strong>ChuyÃªn Khoa:</strong> <span
						th:text="${bacSi.chuyenKhoa != null ? bacSi.chuyenKhoa.ten : ''}"></span></p>
				<p><strong>Äiá»‡n Thoáº¡i:</strong> <span
						th:text="${bacSi.dienThoai != null ? bacSi.dienThoai : ''}"></span></p>
				<p><strong>Äá»‹a Chá»‰:</strong> <span th:text="${bacSi.diaChi != null ? bacSi.diaChi : ''}"></span></p>
			</div>
		</div>

		<!-- Tab menu -->
		<div class="tabs">
			<button class="tab-link active" onclick="openTab(event, 'basic-info')">ThÃ´ng Tin CÆ¡ Báº£n</button>
			<button class="tab-link" onclick="openTab(event, 'details-info')">ThÃ´ng Tin Chi Tiáº¿t</button>
			<button class="tab-link" onclick="openTab(event, 'schedule-info')">Lá»‹ch LÃ m Viá»‡c</button>
		</div>

		<!-- ThÃ´ng Tin CÆ¡ Báº£n -->
		<div id="basic-info" class="tab-content active">
			<h2>ThÃ´ng Tin CÆ¡ Báº£n</h2>
			<p><strong>Há» vÃ  TÃªn:</strong> <span th:text="${bacSi.ten}"></span></p>
			<p><strong>NgÃ y Sinh:</strong> <span th:text="${formattedDate}"></span></p>
			<p><strong>Giá»›i TÃ­nh:</strong> <span th:text="${bacSi.gioiTinh}"></span></p>
			<p><strong>Äiá»‡n Thoáº¡i:</strong> <span th:text="${bacSi.dienThoai}"></span></p>
			<p><strong>Äá»‹a Chá»‰:</strong> <span th:text="${bacSi.diaChi}"></span></p>
			<p><strong>ChuyÃªn Khoa:</strong> <span th:text="${bacSi.chuyenKhoa.ten}"></span></p>
		</div>

		<!-- ThÃ´ng Tin Chi Tiáº¿t -->
		<div id="details-info" class="tab-content">
			<h2>ThÃ´ng Tin Chi Tiáº¿t</h2>
			<p><strong>Báº±ng Cáº¥p:</strong> <span th:text="${bacSi.chiTietBacSi.bangCap}"></span></p>
			<p><strong>Há»™i Nghá»‹ NÆ°á»›c NgoÃ i:</strong> <span th:text="${bacSi.chiTietBacSi.hoiNghiNuocNgoai}"></span></p>
			<p><strong>Chá»©ng Chá»‰:</strong> <span th:text="${bacSi.chiTietBacSi.chungChi}"></span></p>
			<p><strong>ÄÃ o Táº¡o ChuyÃªn NgÃ nh:</strong> <span th:text="${bacSi.chiTietBacSi.daoTaoChuyenNganh}"></span>
			</p>
			<p><strong>LÄ©nh Vá»±c ChuyÃªn SÃ¢u:</strong> <span th:text="${bacSi.chiTietBacSi.linhVucChuyenSau}"></span></p>
		</div>

		<!-- Lá»‹ch LÃ m Viá»‡c -->
		<div id="schedule-info" class="tab-content">
			<h2 class="schedule-header">ğŸ“… Lá»‹ch LÃ m Viá»‡c</h2>

			<div class="date-picker-container">
				<label for="ngay">ğŸ—“ Chá»n ngÃ y:</label>
				<input type="date" id="ngay" name="ngay" th:value="${selectedDate}" class="date-picker" />
				<button type="submit" class="btn-view-schedule">Xem Lá»‹ch</button>
			</div>

			<table class="schedule-table">
				<thead>
					<tr>
						<th>Ca</th>
						<th>Giá»</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="lich : ${lichKhamBenhList}" class="schedule-row">
						<td th:text="${lich.ca}" class="shift"></td>
						<td class="time">
							<span th:if="${lich.ca == 'SÃ¡ng'}">â˜€ï¸ 07:30 - 11:30</span>
							<span th:if="${lich.ca == 'Chiá»u'}">ğŸŒ¤ 13:00 - 16:30</span>
							<span th:if="${lich.ca == 'NgoÃ i Giá»'}">ğŸŒ™ 17:00 - 19:30</span>
						</td>
					</tr>
				</tbody>
			</table>
		</div>

	</div>

	<!-- Include Footer -->
	<div th:replace="benhnhan/fragments/footer :: footer"></div>

	<script>
		function openTab(event, tabId) {
			const tabContents = document.querySelectorAll(".tab-content");
			tabContents.forEach((content) => content.classList.remove("active"));

			const tabLinks = document.querySelectorAll(".tab-link");
			tabLinks.forEach((link) => link.classList.remove("active"));

			document.getElementById(tabId).classList.add("active");
			event.currentTarget.classList.add("active");
		}

		document.getElementById("dateForm").addEventListener("submit", function (event) {
			event.preventDefault();
			let selectedDate = document.getElementById("ngay").value;
			if (selectedDate) {
				window.location.href = window.location.pathname + "?ngay=" + selectedDate;
			}
		});
	</script>
</body>

</html>